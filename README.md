# koken-kosyu

UEC工研 講習資料

## 概要

ESPとAVRについてそれぞれ

## 伝えたい知見

- ケチる術。
  - より安く
    - ESP: dev板**¥1600** → モジュール単体¥480 → C3なら**¥310**
      - 1/5の値段
    - AVR: UNO**¥3200** → tiny44¥190 → tiny202**¥70**
      - 1/45の値段
  - より小さく
    - ESP: 手のひら大 → 切手大
    - AVR: カード大 → 爪の先
- Arduino以外の環境での開発
  - PlatformIOでストレスフリーに
  - avr-gccでより深く
- 環境を汚さないポリシー
  - あえてCLIのPlatformioを使う

## 対象

Arduinoを

触ったことがある ~ 物足りなくなってきた

人

## 構成

### Arduino

講習では直接取り扱わないが、事前知識として持っておくと良さそうな内容のまとめ

### ESP

ESP32C3の紹介、使い方 WebSocketを用いたコントローラの製作

- Blynk
  - UI作るのが楽
  - アプリとアカウントが必要
- BLE直接叩く
  - BLEなので低消費電力
  - UIを作るのがとても大変
  - BLEいじれるアプリでたたくときは専用の知識が必要
- 他のゲーム機のctrlerを繋ぐ
  - 専用のハード
  - macアドレス直打ちになる
    - いちいちコードの変更が必要
    - 専用のハードでしかない
- WebSocket
  - ブラウザで開ける
  - UIも自由自在
  - ライブラリが整備されている?
  - BLEに比べると電力消費が大きい

### AVR

tiny202の紹介、旧AVRとの比較、電子オルゴールの製作

- 電子オルゴール
  - super advanced Lchika
  - 小規模なマイコンにおいて定番
  - 高速な処理を組むことが要求される
    - 音を出すとは
      - 音声波形を作る
      - 2500Hzくらいの音は出したい
      - 毎秒5000回くらいは波形のアナログ値を生成する必要がある
      - 人間の目は60Hzで騙せる
  - 一通りの技術を必要とする
    - マイコンの使い方
    - プログラムを組む技術
      - 小さい容量に詰め込むということ
      - 最適な処理の流れとデータ構造
    - レジスタを叩く技術
      - digitalWriteでは遅すぎる
