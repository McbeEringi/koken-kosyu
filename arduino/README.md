# Arduino
## 目次
- Arduino
- Lチカ
- ボタン
- 自作
- Arduinoって結局何?

## Arduino
- 例えば...
	- 電源と電球を繋ぐ
		- 光る
	- 間にスイッチを入れる
		- スイッチを入れると光る
- 電動のスイッチ?
	- リレー
		- 電磁石+金属片
	- トランジスタ
		- 小電流で大電流が制御できる
- 自動で電球を点けたい
	- 電球を点ける電動のスイッチ
	- 電球を点ける電動のスイッチを動かす電動のスイッチ
	- 電球を点ける電動のスイッチを動かす電動のスイッチを動かす電動のスイッチ
	- ......???
- そんなあなたにArduino
	- 0Vと5Vを出せる端子がいっぱいある
	- 0~5Vの電圧を計れる端子もある
	- タイマーで時間を計れる
	- プログラムを書いてこれらを自由に制御
	- こういうのができるのをマイコンって呼んだり
	- [秋月で売ってる](https://akizukidenshi.com/catalog/g/gM-07385/)
	- Amazonとかどこでも売ってる
- どうなる?
	- 人感センサーが反応したら電球付けて一定時間たったら消す
		- 人感センサーの信号を受け取るArduino
		- 一定時間待つArduino
		- 電球を点ける電動のスイッチを動かすArduino
- めでたしめでたし......

## Lチカ
- ArduinoとLEDを繋げて点滅させる
	- マイコン買ったら最初にやる儀式
	- さっきトランジスタに流していた電流でLEDは十分点灯する
	- LEDはV=IRではないので電流が一気に流れる
		- これを防ぐため直列に抵抗を繋ぐ
		- 電流制限抵抗
		- 330ohmが良く使われるが人間の視覚特性が対数なので10kohm位挟んでも普通に光る
- Arduinoの定番であるArduino UNOには基板にLEDが載っている
	- 13番ピンとGNDの間に繋がっている
- 最初にピンの動作モードを定義する
	- 内部の回路が切り替わる
- 基本的に出力も入力もONかOFFしかできない
	- ON==HIGH==5v
	- OFF==LOW==0v

```cpp
// これはコメント 動作には影響しない
// 式の最後に;付けるのを忘れずに
// void 名前(){} ←関数の宣言 名前();で波括弧の中が順番に動く
// setup, loop 関数はArduino側で定義されていて勝手に動く
// 色んな名前の関数があらかじめ定義されている

void setup(){// 電源入れたときに一度だけ動く
	pinMode(13,OUTPUT);// 13番ピンを出力ピンとして設定
}
void loop(){// setupの後無限に繰り返し動く
	digitalWrite(13,HIGH);// 13番ピンの出力をHIGH=5vに設定
	delay(500);// 500ミリ秒=0.5秒待つ
	digitalWrite(13,LOW);// 13番ピンの出力をLOW=0vに設定
	delay(500);
	// ここまで来たらまたloopをはじめから実行
}
```
## ボタン
- ボタンを押したらLEDが光るようにする

